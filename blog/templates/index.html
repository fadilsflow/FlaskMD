{% extends "base.html" %}

{% block title %}
Home - My Blog
{% endblock %}

{% block content %}
<div class="blog-container">
  <div class="user-bio">
    <div class="user-info">
      <div class="user-image">
        <img src="../static/image/profile.png" alt="User Image">
      </div>
      <div class="user-details">
        <h2 class="user-name">Wahyu Akhmad Fadillah</h2>
        <p class="user-role">Fullstack Developer & Content Creator.</p>
        <p class="user-blog-count">Blogs Created: {{ posts|length }}</p>
      </div>
      <div class="blog-actions">
        <a href="{{ url_for('manage_blogs') }}" class="manage-blog-button">
            <ion-icon name="settings"></ion-icon>
            <span>Manage Blogs</span>
        </a>
      </div>
    </div>
  </div>
  <h1>Posts</h1>
  <div class="post-list">
    {% for post in posts %}
    <div class="post-card">
      <a href="{{ url_for('post', filename=post.filename) }}">
        <div class="image-container">
          <img src="{{ post.image }}" alt="{{ post.title }}">
        </div>
      </a>
      <a href="{{ url_for('post', filename=post.filename) }}">
      <div class="post-info">
        <h2>{{ post.title }}</h2>
        <p>{{ post.date.strftime('%B %d, %Y') if post.date else 'No Date' }}</p>
        {% if post.tags %}
        <div class="post-tags">
          {% for tag in post.tags.split(',') %}
          <span class="tag">{{ tag.strip() }}</span>
          {% endfor %}
        </div>
        {% endif %}
      </div>
      </a>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}